<%- include("partials/header") %>

<div class="bg-white p-6 rounded shadow-md max-w-xl mx-auto">
  <h2 class="text-2xl font-bold text-indigo-600 mb-4 text-center">✏️ Edit Task</h2>

  <form action="/edit/<%= task._id %>" method="POST" class="grid grid-cols-1 gap-4">
    <input type="text" name="title" value="<%= task.title %>" required class="border p-2 rounded" placeholder="Title">

    <input type="text" name="discription" value="<%= task.discription %>" required class="border p-2 rounded" placeholder="Description">

    <input type="date" name="deadline" value="<%= task.deadline.toISOString().split('T')[0] %>" required class="border p-2 rounded">

    <select name="status" required class="border p-2 rounded">
      <option value="pending" <%= task.status === 'pending' ? 'selected' : '' %>>Pending</option>
      <option value="in-progress" <%= task.status === 'in-progress' ? 'selected' : '' %>>In Progress</option>
      <option value="completed" <%= task.status === 'completed' ? 'selected' : '' %>>Completed</option>
    </select>

    <select name="priority" required class="border p-2 rounded">
      <option value="low" <%= task.priority === 'low' ? 'selected' : '' %>>Low</option>
      <option value="medium" <%= task.priority === 'medium' ? 'selected' : '' %>>Medium</option>
      <option value="high" <%= task.priority === 'high' ? 'selected' : '' %>>High</option>
    </select>

    <input type="text" name="followup" value="<%= task.followup %>" required class="border p-2 rounded" placeholder="Follow-up Person">

    <div class="flex justify-between mt-4">
      <a href="/" class="text-sm text-gray-600 hover:text-black underline">← Back to Home</a>
      <button class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition">Update Task</button>
    </div>
  </form>
</div>

<%- include("partials/footer") %>
